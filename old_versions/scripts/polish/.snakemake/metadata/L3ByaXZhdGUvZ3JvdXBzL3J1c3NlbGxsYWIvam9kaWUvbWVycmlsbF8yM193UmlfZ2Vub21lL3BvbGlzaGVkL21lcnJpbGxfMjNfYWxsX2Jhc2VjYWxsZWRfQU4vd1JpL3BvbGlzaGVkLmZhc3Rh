{"code": "gASVRgcAAAAAAAAoQyCXAHQBAAAAAAAAAABkAXwNfBCsAqsDAAAAAAAAAQB5AJQojAVpbnB1dJSMBm91dHB1dJSMBnBhcmFtc5SMCXdpbGRjYXJkc5SMB3RocmVhZHOUjAlyZXNvdXJjZXOUjANsb2eUjARydWxllIwJY29uZGFfZW52lIwNY29udGFpbmVyX2ltZ5SMEHNpbmd1bGFyaXR5X2FyZ3OUjA91c2Vfc2luZ3VsYXJpdHmUjAtlbnZfbW9kdWxlc5SMDGJlbmNoX3JlY29yZJSMBWpvYmlklIwIaXNfc2hlbGyUjA9iZW5jaF9pdGVyYXRpb26UjA9jbGVhbnVwX3NjcmlwdHOUjApzaGFkb3dfZGlylIwNZWRpdF9ub3RlYm9va5SMD2NvbmRhX2Jhc2VfcGF0aJSMB2Jhc2VkaXKUjBBzb3VyY2VjYWNoZV9wYXRolIwYcnVudGltZV9zb3VyY2VjYWNoZV9wYXRolIwYX19pc19zbmFrZW1ha2VfcnVsZV9mdW5jlHSUXZQoTlihBQAACiAgICAgICAgIyBDcmVhdGUgb3V0cHV0IGRpcmVjdG9yeQogICAgICAgIG1rZGlyIC1wIHtwYXJhbXMub3V0X2Rpcn0KICAgICAgICAKICAgICAgICAjIEZpcnN0IHJvdW5kOiBNYXAgcmVhZHMgYmFjayB0byBhc3NlbWJseQogICAgICAgIG1pbmltYXAyIC1heCBtYXAtb250IC10IHt0aHJlYWRzfSB7aW5wdXQud29sYmFjaGlhX2Fzc2VtYmx5fSB7aW5wdXQubmFub3BvcmVfcmVhZHN9ID4ge3BhcmFtcy5vdXRfZGlyfS9tYXBwZWQuc2FtCiAgICAgICAgCiAgICAgICAgIyBQb2xpc2ggd2l0aCBSYWNvbiAoMyBpdGVyYXRpb25zIGZvciBiZXR0ZXIgcXVhbGl0eSkKICAgICAgICAjIEl0ZXJhdGlvbiAxCiAgICAgICAgcmFjb24gLXQge3RocmVhZHN9IHtpbnB1dC5uYW5vcG9yZV9yZWFkc30ge3BhcmFtcy5vdXRfZGlyfS9tYXBwZWQuc2FtIHtpbnB1dC53b2xiYWNoaWFfYXNzZW1ibHl9ID4ge3BhcmFtcy5vdXRfZGlyfS9yYWNvbl8xLmZhc3RhCiAgICAgICAgCiAgICAgICAgIyBJdGVyYXRpb24gMgogICAgICAgIG1pbmltYXAyIC1heCBtYXAtb250IC10IHt0aHJlYWRzfSB7cGFyYW1zLm91dF9kaXJ9L3JhY29uXzEuZmFzdGEge2lucHV0Lm5hbm9wb3JlX3JlYWRzfSA+IHtwYXJhbXMub3V0X2Rpcn0vbWFwcGVkXzIuc2FtCiAgICAgICAgcmFjb24gLXQge3RocmVhZHN9IHtpbnB1dC5uYW5vcG9yZV9yZWFkc30ge3BhcmFtcy5vdXRfZGlyfS9tYXBwZWRfMi5zYW0ge3BhcmFtcy5vdXRfZGlyfS9yYWNvbl8xLmZhc3RhID4ge3BhcmFtcy5vdXRfZGlyfS9yYWNvbl8yLmZhc3RhCiAgICAgICAgCiAgICAgICAgIyBJdGVyYXRpb24gMwogICAgICAgIG1pbmltYXAyIC1heCBtYXAtb250IC10IHt0aHJlYWRzfSB7cGFyYW1zLm91dF9kaXJ9L3JhY29uXzIuZmFzdGEge2lucHV0Lm5hbm9wb3JlX3JlYWRzfSA+IHtwYXJhbXMub3V0X2Rpcn0vbWFwcGVkXzMuc2FtCiAgICAgICAgcmFjb24gLXQge3RocmVhZHN9IHtpbnB1dC5uYW5vcG9yZV9yZWFkc30ge3BhcmFtcy5vdXRfZGlyfS9tYXBwZWRfMy5zYW0ge3BhcmFtcy5vdXRfZGlyfS9yYWNvbl8yLmZhc3RhID4ge3BhcmFtcy5vdXRfZGlyfS9yYWNvbl8zLmZhc3RhCiAgICAgICAgCiAgICAgICAgIyBBZGRpdGlvbmFsIHJvdW5kcyBjYW4gZnVydGhlciBpbXByb3ZlIHF1YWxpdHkKICAgICAgICAjIEl0ZXJhdGlvbiA0CiAgICAgICAgbWluaW1hcDIgLWF4IG1hcC1vbnQgLXQge3RocmVhZHN9IHtwYXJhbXMub3V0X2Rpcn0vcmFjb25fMy5mYXN0YSB7aW5wdXQubmFub3BvcmVfcmVhZHN9ID4ge3BhcmFtcy5vdXRfZGlyfS9tYXBwZWRfNC5zYW0KICAgICAgICByYWNvbiAtdCB7dGhyZWFkc30ge2lucHV0Lm5hbm9wb3JlX3JlYWRzfSB7cGFyYW1zLm91dF9kaXJ9L21hcHBlZF80LnNhbSB7cGFyYW1zLm91dF9kaXJ9L3JhY29uXzMuZmFzdGEgPiB7b3V0cHV0LnBvbGlzaGVkfQogICAgICAgIJRoDmgRhpRljAVzaGVsbJSFlHSULg==", "rule": "polish_nanopore_assembly", "input": ["/private/groups/russelllab/jodie/merrill_23_wRi_genome/anne_assembly/consensus_assembly.fasta", "/private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz"], "log": [], "params": ["'/private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi/'"], "shellcmd": "\n        # Create output directory\n        mkdir -p /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi/\n        \n        # First round: Map reads back to assembly\n        minimap2 -ax map-ont -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/anne_assembly/consensus_assembly.fasta /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped.sam\n        \n        # Polish with Racon (3 iterations for better quality)\n        # Iteration 1\n        racon -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped.sam /private/groups/russelllab/jodie/merrill_23_wRi_genome/anne_assembly/consensus_assembly.fasta > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_1.fasta\n        \n        # Iteration 2\n        minimap2 -ax map-ont -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_1.fasta /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped_2.sam\n        racon -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped_2.sam /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_1.fasta > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_2.fasta\n        \n        # Iteration 3\n        minimap2 -ax map-ont -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_2.fasta /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped_3.sam\n        racon -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped_3.sam /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_2.fasta > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_3.fasta\n        \n        # Additional rounds can further improve quality\n        # Iteration 4\n        minimap2 -ax map-ont -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_3.fasta /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped_4.sam\n        racon -t 16 /private/groups/russelllab/jodie/merrill_23_wRi_genome/nanopore_data/basecalled/merrill_23_all_basecalled.wRi.fastq.gz /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//mapped_4.sam /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi//racon_3.fasta > /private/groups/russelllab/jodie/merrill_23_wRi_genome/polished/merrill_23_all_basecalled_AN/wRi/polished.fasta\n        ", "incomplete": false, "starttime": 1741643145.1186602, "endtime": 1741643563.4185002, "job_hash": 8783267351434, "conda_env": null, "container_img_url": null, "input_checksums": {}}